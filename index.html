<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <title>Twani</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }

      body {
        background: #000;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        overflow: hidden;
      }

      /* Animated background canvas sits behind everything */
      #bg-canvas {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        z-index: 0;
      }

      #unity-container {
        position: relative;
        z-index: 1;
        width: 1280px;
        height: 720px;
      }

      #unity-canvas {
        width: 100%;
        height: 100%;
        display: block;
      }

      #loading-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #fff;
        font-family: sans-serif;
        font-size: 1.2rem;
        letter-spacing: 0.15em;
        opacity: 0.25;
        pointer-events: none;
        transition: opacity 0.5s ease;
      }
    </style>
  </head>
  <body>

    <canvas id="bg-canvas"></canvas>

    <div id="unity-container">
      <canvas id="unity-canvas" width="1280" height="720"></canvas>
      <div id="loading-text">Please Wait</div>
    </div>

    <script>
      // ── Responsive scaling (unchanged) ──────────────────────────────
      function resizeCanvas() {
  const container = document.getElementById('unity-container');
  const scaleX = window.innerWidth / 1280;
  const scaleY = window.innerHeight / 720;
  const scale = Math.min(Math.max(Math.min(scaleX, scaleY), 0.75), 1);
  container.style.transform = `scale(${scale})`;

  // Collapse the leftover layout space so it doesn't overflow
  const excessW = (1280 * scale - 1280) / 2;
  const excessH = (720 * scale - 720) / 2;
  container.style.margin = `${excessH}px ${excessW}px`;
}
      resizeCanvas();
      window.addEventListener('resize', resizeCanvas);

      // ── Animated background ─────────────────────────────────────────
      const bg = document.getElementById('bg-canvas');
      const ctx = bg.getContext('2d');

      function resizeBg() {
        bg.width = window.innerWidth;
        bg.height = window.innerHeight;
      }
      resizeBg();
      window.addEventListener('resize', resizeBg);

      // Soft floating orbs
      const orbs = Array.from({ length: 6 }, () => ({
        x: Math.random() * window.innerWidth,
        y: Math.random() * window.innerHeight,
        r: 180 + Math.random() * 200,
        dx: (Math.random() - 0.5) * 0.3,
        dy: (Math.random() - 0.5) * 0.3,
        hue: Math.random() < 0.5 ? 220 : 260,   // cool blues / purples
        opacity: 0.04 + Math.random() * 0.06,
      }));

      function drawBg() {
        ctx.clearRect(0, 0, bg.width, bg.height);
        ctx.fillStyle = '#000';
        ctx.fillRect(0, 0, bg.width, bg.height);

        for (const o of orbs) {
          const grad = ctx.createRadialGradient(o.x, o.y, 0, o.x, o.y, o.r);
          grad.addColorStop(0, `hsla(${o.hue}, 70%, 55%, ${o.opacity})`);
          grad.addColorStop(1, 'transparent');
          ctx.fillStyle = grad;
          ctx.beginPath();
          ctx.arc(o.x, o.y, o.r, 0, Math.PI * 2);
          ctx.fill();

          o.x += o.dx;
          o.y += o.dy;

          // Soft bounce
          if (o.x < -o.r) o.x = bg.width + o.r;
          if (o.x > bg.width + o.r) o.x = -o.r;
          if (o.y < -o.r) o.y = bg.height + o.r;
          if (o.y > bg.height + o.r) o.y = -o.r;
        }

        requestAnimationFrame(drawBg);
      }
      drawBg();
    </script>

    <script src="Build/Webgl.loader.js"></script>
    <script>
      createUnityInstance(document.querySelector("#unity-canvas"), {
        dataUrl: "Build/Webgl.data",
        frameworkUrl: "Build/Webgl.framework.js",
        codeUrl: "Build/Webgl.wasm",
        companyName: "TwaniOne",
        productName: "Twani",
        productVersion: "1.0",
      }).then(function (instance) {
        console.log("Unity loaded!", instance);
        document.getElementById('loading-text').style.opacity = '0';
      }).catch(function (error) {
        console.error("Unity failed to load:", error);
      });
    </script>
  </body>
</html>